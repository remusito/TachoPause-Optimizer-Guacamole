"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8444],{8444:function(e,a,s){s.d(a,{_:function(){return j}});var t=s(7437),r=s(4171),l=s(323),n=s(29),i=s(7648),o=s(9376),c=s(2381),d=s(6246),m=s(9140),u=s(7692),f=s(2060),p=s(2265),x=s(8227),h=s(875);let N=[{href:"/",icon:r.P.Play,label:"Temporizador",premium:!1},{label:"Veh\xedculo",icon:r.P.Truck,items:[{href:"/speedometer",icon:r.P.Speedometer,label:"Veloc\xedmetro GPS",premium:!1},{href:"/maintenance",icon:r.P.Wrench,label:"Mantenimiento",premium:!0}]},{label:"Rutas",icon:r.P.Route,items:[{href:"/route-calculator",icon:r.P.Calculator,label:"Calculadora",premium:!0},{href:"/route-optimizer",icon:r.P.MapPin,label:"Buscador de Paradas",premium:!0}]},{href:"/loads",icon:r.P.Package,label:"Mercanc\xedas",premium:!1},{href:"/telephones",icon:r.P.Phone,label:"Contactos",premium:!0},{label:"Mis Datos",icon:r.P.BarChart,items:[{href:"/history",icon:r.P.History,label:"Historial",premium:!1},{href:"/stats",icon:r.P.BarChart,label:"Estad\xedsticas",premium:!1}]},{label:"Gu\xedas y Reglamento",icon:r.P.BookOpen,items:[{href:"/regulations",icon:r.P.FileText,label:"Reglamento",premium:!1}]},{label:"Informaci\xf3n Legal",icon:r.P.FileText,items:[{href:"/privacy-policy",icon:r.P.FileText,label:"Pol\xedtica de Privacidad",premium:!1},{href:"/terms-of-service",icon:r.P.FileText,label:"T\xe9rminos de Uso",premium:!1}]},{href:"/rewards",icon:r.P.Award,label:"Recompensas",premium:!1}];function j(){let{isPremium:e}=(0,n.g)(),{user:a,loading:s,signOut:j}=(0,l.aC)(),y=(0,o.usePathname)(),b=(0,o.useRouter)(),[w,g]=(0,p.useState)([]),v=e=>{g(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return(0,t.jsxs)("nav",{className:"h-full w-64 bg-background border-r flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-4 border-b",children:[(0,t.jsx)(r.P.Truck,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-foreground",children:"TachoPause"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex flex-col gap-2 p-4",children:N.map(a=>{if("items"in a&&Array.isArray(a.items)){let s=w.includes(a.label),l=a.items.some(e=>y===e.href);return(0,t.jsxs)(x.zF,{open:s||l,onOpenChange:()=>v(a.label),className:"w-full",children:[(0,t.jsx)(x.wy,{asChild:!0,children:(0,t.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2",children:[(0,t.jsx)(a.icon,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"flex-1 text-left truncate min-w-0",children:a.label}),(0,t.jsx)(h.Z,{className:"ml-auto h-4 w-4 transition-transform ".concat(s||l?"rotate-180":"")})]})}),(0,t.jsx)(x.Fw,{className:"pl-6 space-y-2 py-2",children:a.items.map(a=>(0,t.jsxs)(i.default,{href:a.href,className:"flex w-full items-center gap-3 px-3 py-2 rounded-md text-sm ".concat(y===a.href?"bg-primary text-primary-foreground":"hover:bg-muted"),children:[(0,t.jsx)(a.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"flex-1 truncate min-w-0",children:a.label}),a.premium&&!e&&(0,t.jsx)(r.P.Premium,{className:"ml-auto h-4 w-4"})]},a.href))})]},a.label)}return"href"in a&&a.href?(0,t.jsxs)(i.default,{href:a.href,className:"flex w-full items-center gap-3 px-3 py-2 rounded-md text-sm ".concat(y===a.href?"bg-primary text-primary-foreground":"hover:bg-muted"),children:[(0,t.jsx)(a.icon,{className:"h-5 w-5 flex-shrink-0"}),(0,t.jsx)("span",{className:"flex-1 truncate min-w-0",children:a.label}),a.premium&&!e&&(0,t.jsx)(r.P.Premium,{className:"ml-auto h-4 w-4"})]},a.href):null})})}),(0,t.jsx)("div",{className:"border-t mt-auto p-2",children:(0,t.jsx)(()=>{if(s)return(0,t.jsx)(m.O,{className:"h-10 w-full"});if(a){var e,l;return(0,t.jsxs)(f.h_,{children:[(0,t.jsx)(f.$F,{asChild:!0,children:(0,t.jsxs)(c.z,{variant:"ghost",className:"flex items-center justify-start gap-3 w-full p-2 h-auto",children:[(0,t.jsxs)(d.qE,{className:"h-8 w-8",children:[(0,t.jsx)(d.F$,{src:a.photoURL||void 0,alt:a.displayName||"User"}),(0,t.jsx)(d.Q5,{children:(null===(e=a.displayName)||void 0===e?void 0:e.charAt(0))||(null===(l=a.email)||void 0===l?void 0:l.charAt(0))})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start truncate min-w-0",children:[(0,t.jsx)("span",{className:"font-medium text-sm truncate",children:a.displayName||a.email}),a.displayName&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground truncate",children:a.email})]})]})}),(0,t.jsxs)(f.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,t.jsxs)(f.Ju,{className:"font-normal",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none truncate",children:a.displayName||a.email}),a.displayName&&(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground truncate",children:a.email})]}),(0,t.jsx)(f.VD,{}),(0,t.jsxs)(f.Xi,{onClick:async e=>{e.preventDefault();try{await j(),b.push("/login")}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}},className:"cursor-pointer",children:[(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]})]})}return(0,t.jsxs)(c.z,{className:"w-full",onClick:()=>b.push("/login"),children:[(0,t.jsx)(r.P.Login,{className:"mr-2"}),"Iniciar Sesi\xf3n"]})},{})})]})}},6246:function(e,a,s){s.d(a,{F$:function(){return o},Q5:function(){return c},qE:function(){return i}});var t=s(7437),r=s(2265),l=s(1146),n=s(3448);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.fC,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.fC.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.Ee,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...r})});o.displayName=l.Ee.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.NY,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});c.displayName=l.NY.displayName},8227:function(e,a,s){s.d(a,{Fw:function(){return n},wy:function(){return l},zF:function(){return r}});var t=s(962);let r=t.fC,l=t.wy,n=t.Fw},2060:function(e,a,s){s.d(a,{$F:function(){return m},AW:function(){return u},Ju:function(){return p},VD:function(){return x},Xi:function(){return f},h_:function(){return d}});var t=s(7437),r=s(2265),l=s(85),n=s(407),i=s(401),o=s(519),c=s(3448);let d=l.fC,m=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef((e,a)=>{let{className:s,inset:r,children:i,...o}=e;return(0,t.jsxs)(l.fF,{ref:a,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...o,children:[i,(0,t.jsx)(n.Z,{className:"ml-auto"})]})}).displayName=l.fF.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.tu,{ref:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.tu.displayName;let u=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,t.jsx)(l.Uv,{children:(0,t.jsx)(l.VY,{ref:a,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});u.displayName=l.VY.displayName;let f=r.forwardRef((e,a)=>{let{className:s,inset:r,...n}=e;return(0,t.jsx)(l.ck,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...n})});f.displayName=l.ck.displayName,r.forwardRef((e,a)=>{let{className:s,children:r,checked:n,...o}=e;return(0,t.jsxs)(l.oC,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.wU,{children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})}),r]})}).displayName=l.oC.displayName,r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(l.Rk,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.wU,{children:(0,t.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.Rk.displayName;let p=r.forwardRef((e,a)=>{let{className:s,inset:r,...n}=e;return(0,t.jsx)(l.__,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})});p.displayName=l.__.displayName;let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});x.displayName=l.Z0.displayName}}]);